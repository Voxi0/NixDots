<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>NixDots Docs</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">NixDots Docs</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="nixdots"><a class="header" href="#nixdots">NixDots</a></h1>
<p>This is my personal <a href="https://nixos.org/">NixOS</a> configuration/dotfiles using <a href="https://nixos.wiki/wiki/flakes">Flakes</a> and <a href="https://github.com/nix-community/home-manager">Home Manager</a>. I'm also making use of <a href="https://github.com/nix-community/disko">Disko</a> to declaratively partition and format disks using Nix. Feel free to use my configuration as you wish and star the repo to show support. Any contributions would be greatly appreciated!</p>
<h2 id="why-nixos"><a class="header" href="#why-nixos">Why NixOS?</a></h2>
<p>Here's a couple of reasons why I considered using NixOS and eventually moved to it from <a href="https://github.com/NixOS/nixpkgs">Arch Linux</a>. There are many more benefits of using NixOS but these are the most common.</p>
<ul>
<li>
<p><strong>Does not break / Easy to recover</strong> - Rebuilding NixOS creates a new generation while preserving the previous generation. This allows the user to easily rollback to the previous generation if things go awry by choosing it in the boot menu.</p>
</li>
<li>
<p><strong>Reproducibility</strong>: It's very easy to have identical systems. All you do is fetch someone's NixOS configuration and rebuild your system using it.</p>
</li>
<li>
<p><strong>Huge Package Repository</strong>: <a href="https://github.com/NixOS/nixpkgs">Nixpkgs</a> has over 100,000 software packages that you can install with the Nix package manager. It's the largest software repository in existence as of now, even larger than the mighty <a href="https://github.com/NixOS/nixpkgs">AUR</a>.</p>
</li>
</ul>
<h2 id="info"><a class="header" href="#info">Info</a></h2>
<ul>
<li><strong>Kernel</strong> - <a href="https://www.kernel.org/">Linux (Latest)</a></li>
<li><strong>Shell</strong> - <a href="https://fishshell.com/">Fish</a></li>
<li><strong>Theming</strong> - <a href="https://github.com/danth/stylix">Stylix</a></li>
<li><strong>Terminal</strong> - <a href="https://sw.kovidgoyal.net/kitty/">Kitty</a></li>
<li><strong>Editor</strong> - <a href="https://github.com/Voxi0/NvimDots">Neovim</a> (Using <a href="https://nixcats.org/">NixCats</a>)</li>
<li><strong>DE/WM</strong> -
<ul>
<li><a href="https://hyprland.org/">Hyprland</a></li>
<li><a href="https://swaywm.org/">Sway</a> (Bare minimum, recommended to use Hyprland instead)</li>
</ul>
</li>
<li><strong>Widgets</strong> - <a href="https://github.com/Aylur/ags">Aylur's GTK Shell (AGS)</a> or more specifically, <a href="https://github.com/Aylur/Astal">Astal</a></li>
<li><strong>Browser</strong> - <a href="https://www.mozilla.org/en-US/firefox/">Firefox</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<ul>
<li>Prepare a NixOS installation media and boot into it.</li>
<li>Open the terminal and run the following commands. Read thoroughly before running each command.</li>
</ul>
<pre><code class="language-bash"># Fetch NixDots and `cd` into it
nix-shell -p git --run "git clone https://github.com/Voxi0/NixDots.git"
cd NixDots

# List all mounted disks to choose a disk to install NixOS on
lsblk

# Declaratively partition and format disks - Make sure to replace `&lt;install disk&gt;` with the path to the actual disk to install NixOS on e.g. `/dev/sda`
# Will automatically mount the install disk afterwards in `/mnt/`
sudo nix --experimental-features "nix-command flakes" run github:nix-community/disko -- -m disko --argstr device &lt;install disk&gt; ./disko.nix

# Set your username (Set to my personal username by default `voxi0`) and the disk where NixOS is installed (REQUIRED)
nano ./flake.nix    # Nano is installed by default, use another editor if you want

# Generate a new `hardware-configuration.nix` for the new system
sudo nixos-generate-config --show-hardware-config --no-filesystems --root /mnt &gt; hardware-configuration.nix

# Move NixDots to the new system - `/etc/nixos` by default but you can move it wherever you want after installing
sudo mkdir -p /mnt/etc/nixos
sudo cp -r ./* /mnt/etc/nixos/

# Install NixOS - Replace `&lt;hostname&gt;` with the actual host to install e.g. `neo`
sudo nixos-install --no-channel-copy --flake /mnt/etc/nixos/&lt;hostname&gt;

# Chroot into the new system to run additional commands like changing your password
sudo nixos-enter
passwd root             # Change the root password from `nixos` to something else if you want
passwd &lt;your_username&gt;  # Definitely change your password from `nixos` to something else

# Installation is complete! Power off and remove the installation media
poweroff
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="post-installation"><a class="header" href="#post-installation">Post-Installation</a></h1>
<ul>
<li>
<p><strong>Update the system</strong>: The Nix Helper CLI is installed so you might wanna use that instead of <code>nixos-rebuild</code> as it just looks nicer and is more informative. It's a really nice tool in general. <code>cd</code> into NixDots and run <code>nh os boot -H &lt;hostname&gt; ./flake.nix --update</code> to update the system and add it to the boot menu, then reboot your system to select the latest generation. Look into <code>nh os clean</code> to clean up garbage. I'm sure you can figure out how to use <code>nh</code> yourself.</p>
</li>
<li>
<p><strong>Move NixDots somewhere else</strong>: Don't keep NixDots <code>/etc/nixos</code>, move it somewhere in your home directory so you can modify it freely. Just moving NixDots isn't enough so run this command to change the ownership of NixDots so you can modify it without superuser, <code>sudo chown -R &lt;your_username&gt; &lt;nixdots_new_location&gt;</code>.</p>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
